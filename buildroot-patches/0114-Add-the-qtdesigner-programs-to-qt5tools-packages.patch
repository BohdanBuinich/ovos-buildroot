From 773d2f8333c9120a75e9b9b2db788e32228ab25b Mon Sep 17 00:00:00 2001
From: j1nx <p.steenbergen@j1nx.nl>
Date: Tue, 13 Oct 2020 12:20:40 +0200
Subject: [PATCH 1/1] Add the qtdesigner programs to qt5tools packages

---
 package/qt5/qt5tools/Config.in   | 5 +++++
 package/qt5/qt5tools/qt5tools.mk | 3 +++
 2 files changed, 8 insertions(+)

diff --git a/package/qt5/qt5tools/Config.in b/package/qt5/qt5tools/Config.in
index 60106c1ee3..b538c0f05c 100644
--- a/package/qt5/qt5tools/Config.in
+++ b/package/qt5/qt5tools/Config.in
@@ -56,4 +56,9 @@ config BR2_PACKAGE_QT5TOOLS_QTPLUGININFO
 	help
 	  Compile and install the qtplugininfo program.
 
+config BR2_PACKAGE_QT5TOOLS_DESIGNER
+        bool "qtdesigner"
+        help
+          Compile and install the qtdesigner programs.
+
 endif
diff --git a/package/qt5/qt5tools/qt5tools.mk b/package/qt5/qt5tools/qt5tools.mk
index 0d00022998..9100d21ccd 100644
--- a/package/qt5/qt5tools/qt5tools.mk
+++ b/package/qt5/qt5tools/qt5tools.mk
@@ -50,6 +50,9 @@ QT5TOOLS_INSTALL_TARGET_$(BR2_PACKAGE_QT5TOOLS_QTPATHS) += qtpaths
 QT5TOOLS_BUILD_DIRS_$(BR2_PACKAGE_QT5TOOLS_QTPLUGININFO) += qtplugininfo
 QT5TOOLS_INSTALL_TARGET_$(BR2_PACKAGE_QT5TOOLS_QTPLUGININFO) += qtplugininfo
 
+QT5TOOLS_BUILD_DIRS_$(BR2_PACKAGE_QT5TOOLS_DESIGNER) += designer
+QT5TOOLS_INSTALL_STAGING_DIR_$(BR2_PACKAGE_QT5TOOLS_DESIGNER) += designer
+
 define QT5TOOLS_CONFIGURE_CMDS
 	(cd $(@D); $(TARGET_MAKE_ENV) $(HOST_DIR)/bin/qmake)
 endef
-- 
2.20.1

